{"ast":null,"code":"'use strict';\n\nconst fs = require('graceful-fs');\n\nconst path = require('path');\n\nconst copySync = require('../copy').copySync;\n\nconst removeSync = require('../remove').removeSync;\n\nconst mkdirpSync = require('../mkdirs').mkdirpSync;\n\nconst stat = require('../util/stat');\n\nfunction moveSync(src, dest, opts) {\n  opts = opts || {};\n  const overwrite = opts.overwrite || opts.clobber || false;\n  const {\n    srcStat,\n    isChangingCase = false\n  } = stat.checkPathsSync(src, dest, 'move', opts);\n  stat.checkParentPathsSync(src, srcStat, dest, 'move');\n  if (!isParentRoot(dest)) mkdirpSync(path.dirname(dest));\n  return doRename(src, dest, overwrite, isChangingCase);\n}\n\nfunction isParentRoot(dest) {\n  const parent = path.dirname(dest);\n  const parsedPath = path.parse(parent);\n  return parsedPath.root === parent;\n}\n\nfunction doRename(src, dest, overwrite, isChangingCase) {\n  if (isChangingCase) return rename(src, dest, overwrite);\n\n  if (overwrite) {\n    removeSync(dest);\n    return rename(src, dest, overwrite);\n  }\n\n  if (fs.existsSync(dest)) throw new Error('dest already exists.');\n  return rename(src, dest, overwrite);\n}\n\nfunction rename(src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest);\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err;\n    return moveAcrossDevice(src, dest, overwrite);\n  }\n}\n\nfunction moveAcrossDevice(src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  };\n  copySync(src, dest, opts);\n  return removeSync(src);\n}\n\nmodule.exports = moveSync;","map":{"version":3,"names":["fs","require","path","copySync","removeSync","mkdirpSync","stat","moveSync","src","dest","opts","overwrite","clobber","srcStat","isChangingCase","checkPathsSync","checkParentPathsSync","isParentRoot","dirname","doRename","parent","parsedPath","parse","root","rename","existsSync","Error","renameSync","err","code","moveAcrossDevice","errorOnExist","module","exports"],"sources":["/Users/le-taoli/emotiondetecttemp/front/node_modules/fs-extra/lib/move/move-sync.js"],"sourcesContent":["'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat, isChangingCase = false } = stat.checkPathsSync(src, dest, 'move', opts)\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  if (!isParentRoot(dest)) mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite, isChangingCase)\n}\n\nfunction isParentRoot (dest) {\n  const parent = path.dirname(dest)\n  const parsedPath = path.parse(parent)\n  return parsedPath.root === parent\n}\n\nfunction doRename (src, dest, overwrite, isChangingCase) {\n  if (isChangingCase) return rename(src, dest, overwrite)\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,SAAD,CAAP,CAAmBE,QAApC;;AACA,MAAMC,UAAU,GAAGH,OAAO,CAAC,WAAD,CAAP,CAAqBG,UAAxC;;AACA,MAAMC,UAAU,GAAGJ,OAAO,CAAC,WAAD,CAAP,CAAqBI,UAAxC;;AACA,MAAMC,IAAI,GAAGL,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASM,QAAT,CAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoC;EAClCA,IAAI,GAAGA,IAAI,IAAI,EAAf;EACA,MAAMC,SAAS,GAAGD,IAAI,CAACC,SAAL,IAAkBD,IAAI,CAACE,OAAvB,IAAkC,KAApD;EAEA,MAAM;IAAEC,OAAF;IAAWC,cAAc,GAAG;EAA5B,IAAsCR,IAAI,CAACS,cAAL,CAAoBP,GAApB,EAAyBC,IAAzB,EAA+B,MAA/B,EAAuCC,IAAvC,CAA5C;EACAJ,IAAI,CAACU,oBAAL,CAA0BR,GAA1B,EAA+BK,OAA/B,EAAwCJ,IAAxC,EAA8C,MAA9C;EACA,IAAI,CAACQ,YAAY,CAACR,IAAD,CAAjB,EAAyBJ,UAAU,CAACH,IAAI,CAACgB,OAAL,CAAaT,IAAb,CAAD,CAAV;EACzB,OAAOU,QAAQ,CAACX,GAAD,EAAMC,IAAN,EAAYE,SAAZ,EAAuBG,cAAvB,CAAf;AACD;;AAED,SAASG,YAAT,CAAuBR,IAAvB,EAA6B;EAC3B,MAAMW,MAAM,GAAGlB,IAAI,CAACgB,OAAL,CAAaT,IAAb,CAAf;EACA,MAAMY,UAAU,GAAGnB,IAAI,CAACoB,KAAL,CAAWF,MAAX,CAAnB;EACA,OAAOC,UAAU,CAACE,IAAX,KAAoBH,MAA3B;AACD;;AAED,SAASD,QAAT,CAAmBX,GAAnB,EAAwBC,IAAxB,EAA8BE,SAA9B,EAAyCG,cAAzC,EAAyD;EACvD,IAAIA,cAAJ,EAAoB,OAAOU,MAAM,CAAChB,GAAD,EAAMC,IAAN,EAAYE,SAAZ,CAAb;;EACpB,IAAIA,SAAJ,EAAe;IACbP,UAAU,CAACK,IAAD,CAAV;IACA,OAAOe,MAAM,CAAChB,GAAD,EAAMC,IAAN,EAAYE,SAAZ,CAAb;EACD;;EACD,IAAIX,EAAE,CAACyB,UAAH,CAAchB,IAAd,CAAJ,EAAyB,MAAM,IAAIiB,KAAJ,CAAU,sBAAV,CAAN;EACzB,OAAOF,MAAM,CAAChB,GAAD,EAAMC,IAAN,EAAYE,SAAZ,CAAb;AACD;;AAED,SAASa,MAAT,CAAiBhB,GAAjB,EAAsBC,IAAtB,EAA4BE,SAA5B,EAAuC;EACrC,IAAI;IACFX,EAAE,CAAC2B,UAAH,CAAcnB,GAAd,EAAmBC,IAAnB;EACD,CAFD,CAEE,OAAOmB,GAAP,EAAY;IACZ,IAAIA,GAAG,CAACC,IAAJ,KAAa,OAAjB,EAA0B,MAAMD,GAAN;IAC1B,OAAOE,gBAAgB,CAACtB,GAAD,EAAMC,IAAN,EAAYE,SAAZ,CAAvB;EACD;AACF;;AAED,SAASmB,gBAAT,CAA2BtB,GAA3B,EAAgCC,IAAhC,EAAsCE,SAAtC,EAAiD;EAC/C,MAAMD,IAAI,GAAG;IACXC,SADW;IAEXoB,YAAY,EAAE;EAFH,CAAb;EAIA5B,QAAQ,CAACK,GAAD,EAAMC,IAAN,EAAYC,IAAZ,CAAR;EACA,OAAON,UAAU,CAACI,GAAD,CAAjB;AACD;;AAEDwB,MAAM,CAACC,OAAP,GAAiB1B,QAAjB"},"metadata":{},"sourceType":"script"}