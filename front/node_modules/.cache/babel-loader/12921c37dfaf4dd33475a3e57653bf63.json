{"ast":null,"code":"'use strict';\n\nconst fs = require('graceful-fs');\n\nconst path = require('path');\n\nconst mkdirs = require('../mkdirs').mkdirs;\n\nconst pathExists = require('../path-exists').pathExists;\n\nconst utimesMillis = require('../util/utimes').utimesMillis;\n\nconst stat = require('../util/stat');\n\nfunction copy(src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts;\n    opts = {};\n  } else if (typeof opts === 'function') {\n    opts = {\n      filter: opts\n    };\n  }\n\n  cb = cb || function () {};\n\n  opts = opts || {};\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true; // default to true for now\n\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber; // overwrite falls back to clobber\n  // Warn about using preserveTimestamps on 32-bit node\n\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    process.emitWarning('Using the preserveTimestamps option in 32-bit node is not recommended;\\n\\n' + '\\tsee https://github.com/jprichardson/node-fs-extra/issues/269', 'Warning', 'fs-extra-WARN0001');\n  }\n\n  stat.checkPaths(src, dest, 'copy', opts, (err, stats) => {\n    if (err) return cb(err);\n    const {\n      srcStat,\n      destStat\n    } = stats;\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err);\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb);\n      return checkParentDir(destStat, src, dest, opts, cb);\n    });\n  });\n}\n\nfunction checkParentDir(destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest);\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err);\n    if (dirExists) return getStats(destStat, src, dest, opts, cb);\n    mkdirs(destParent, err => {\n      if (err) return cb(err);\n      return getStats(destStat, src, dest, opts, cb);\n    });\n  });\n}\n\nfunction handleFilter(onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb);\n    return cb();\n  }, error => cb(error));\n}\n\nfunction startCopy(destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb);\n  return getStats(destStat, src, dest, opts, cb);\n}\n\nfunction getStats(destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat;\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err);\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb);else if (srcStat.isFile() || srcStat.isCharacterDevice() || srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb);else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb);else if (srcStat.isSocket()) return cb(new Error(`Cannot copy a socket file: ${src}`));else if (srcStat.isFIFO()) return cb(new Error(`Cannot copy a FIFO pipe: ${src}`));\n    return cb(new Error(`Unknown file: ${src}`));\n  });\n}\n\nfunction onFile(srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb);\n  return mayCopyFile(srcStat, src, dest, opts, cb);\n}\n\nfunction mayCopyFile(srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err);\n      return copyFile(srcStat, src, dest, opts, cb);\n    });\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`));\n  } else return cb();\n}\n\nfunction copyFile(srcStat, src, dest, opts, cb) {\n  fs.copyFile(src, dest, err => {\n    if (err) return cb(err);\n    if (opts.preserveTimestamps) return handleTimestampsAndMode(srcStat.mode, src, dest, cb);\n    return setDestMode(dest, srcStat.mode, cb);\n  });\n}\n\nfunction handleTimestampsAndMode(srcMode, src, dest, cb) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) {\n    return makeFileWritable(dest, srcMode, err => {\n      if (err) return cb(err);\n      return setDestTimestampsAndMode(srcMode, src, dest, cb);\n    });\n  }\n\n  return setDestTimestampsAndMode(srcMode, src, dest, cb);\n}\n\nfunction fileIsNotWritable(srcMode) {\n  return (srcMode & 0o200) === 0;\n}\n\nfunction makeFileWritable(dest, srcMode, cb) {\n  return setDestMode(dest, srcMode | 0o200, cb);\n}\n\nfunction setDestTimestampsAndMode(srcMode, src, dest, cb) {\n  setDestTimestamps(src, dest, err => {\n    if (err) return cb(err);\n    return setDestMode(dest, srcMode, cb);\n  });\n}\n\nfunction setDestMode(dest, srcMode, cb) {\n  return fs.chmod(dest, srcMode, cb);\n}\n\nfunction setDestTimestamps(src, dest, cb) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  fs.stat(src, (err, updatedSrcStat) => {\n    if (err) return cb(err);\n    return utimesMillis(dest, updatedSrcStat.atime, updatedSrcStat.mtime, cb);\n  });\n}\n\nfunction onDir(srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts, cb);\n  return copyDir(src, dest, opts, cb);\n}\n\nfunction mkDirAndCopy(srcMode, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err);\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err);\n      return setDestMode(dest, srcMode, cb);\n    });\n  });\n}\n\nfunction copyDir(src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err);\n    return copyDirItems(items, src, dest, opts, cb);\n  });\n}\n\nfunction copyDirItems(items, src, dest, opts, cb) {\n  const item = items.pop();\n  if (!item) return cb();\n  return copyDirItem(items, item, src, dest, opts, cb);\n}\n\nfunction copyDirItem(items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item);\n  const destItem = path.join(dest, item);\n  stat.checkPaths(srcItem, destItem, 'copy', opts, (err, stats) => {\n    if (err) return cb(err);\n    const {\n      destStat\n    } = stats;\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err);\n      return copyDirItems(items, src, dest, opts, cb);\n    });\n  });\n}\n\nfunction onLink(destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err);\n\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc);\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb);\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb);\n          return cb(err);\n        }\n\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest);\n        }\n\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`));\n        } // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n\n\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`));\n        }\n\n        return copyLink(resolvedSrc, dest, cb);\n      });\n    }\n  });\n}\n\nfunction copyLink(resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err);\n    return fs.symlink(resolvedSrc, dest, cb);\n  });\n}\n\nmodule.exports = copy;","map":{"version":3,"names":["fs","require","path","mkdirs","pathExists","utimesMillis","stat","copy","src","dest","opts","cb","filter","clobber","overwrite","preserveTimestamps","process","arch","emitWarning","checkPaths","err","stats","srcStat","destStat","checkParentPaths","handleFilter","checkParentDir","destParent","dirname","dirExists","getStats","onInclude","Promise","resolve","then","include","error","startCopy","dereference","lstat","isDirectory","onDir","isFile","isCharacterDevice","isBlockDevice","onFile","isSymbolicLink","onLink","isSocket","Error","isFIFO","copyFile","mayCopyFile","unlink","errorOnExist","handleTimestampsAndMode","mode","setDestMode","srcMode","fileIsNotWritable","makeFileWritable","setDestTimestampsAndMode","setDestTimestamps","chmod","updatedSrcStat","atime","mtime","mkDirAndCopy","copyDir","mkdir","readdir","items","copyDirItems","item","pop","copyDirItem","srcItem","join","destItem","readlink","resolvedSrc","cwd","symlink","resolvedDest","code","isSrcSubdir","copyLink","module","exports"],"sources":["/Users/le-taoli/emotiondetecttemp/front/node_modules/fs-extra/lib/copy/copy.js"],"sourcesContent":["'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirs = require('../mkdirs').mkdirs\nconst pathExists = require('../path-exists').pathExists\nconst utimesMillis = require('../util/utimes').utimesMillis\nconst stat = require('../util/stat')\n\nfunction copy (src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts\n    opts = {}\n  } else if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  cb = cb || function () {}\n  opts = opts || {}\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    process.emitWarning(\n      'Using the preserveTimestamps option in 32-bit node is not recommended;\\n\\n' +\n      '\\tsee https://github.com/jprichardson/node-fs-extra/issues/269',\n      'Warning', 'fs-extra-WARN0001'\n    )\n  }\n\n  stat.checkPaths(src, dest, 'copy', opts, (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err)\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb)\n      return checkParentDir(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction checkParentDir (destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest)\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err)\n    if (dirExists) return getStats(destStat, src, dest, opts, cb)\n    mkdirs(destParent, err => {\n      if (err) return cb(err)\n      return getStats(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction handleFilter (onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb)\n    return cb()\n  }, error => cb(error))\n}\n\nfunction startCopy (destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb)\n  return getStats(destStat, src, dest, opts, cb)\n}\n\nfunction getStats (destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err)\n\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isFile() ||\n             srcStat.isCharacterDevice() ||\n             srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb)\n    else if (srcStat.isSocket()) return cb(new Error(`Cannot copy a socket file: ${src}`))\n    else if (srcStat.isFIFO()) return cb(new Error(`Cannot copy a FIFO pipe: ${src}`))\n    return cb(new Error(`Unknown file: ${src}`))\n  })\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb)\n  return mayCopyFile(srcStat, src, dest, opts, cb)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err)\n      return copyFile(srcStat, src, dest, opts, cb)\n    })\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`))\n  } else return cb()\n}\n\nfunction copyFile (srcStat, src, dest, opts, cb) {\n  fs.copyFile(src, dest, err => {\n    if (err) return cb(err)\n    if (opts.preserveTimestamps) return handleTimestampsAndMode(srcStat.mode, src, dest, cb)\n    return setDestMode(dest, srcStat.mode, cb)\n  })\n}\n\nfunction handleTimestampsAndMode (srcMode, src, dest, cb) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) {\n    return makeFileWritable(dest, srcMode, err => {\n      if (err) return cb(err)\n      return setDestTimestampsAndMode(srcMode, src, dest, cb)\n    })\n  }\n  return setDestTimestampsAndMode(srcMode, src, dest, cb)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode, cb) {\n  return setDestMode(dest, srcMode | 0o200, cb)\n}\n\nfunction setDestTimestampsAndMode (srcMode, src, dest, cb) {\n  setDestTimestamps(src, dest, err => {\n    if (err) return cb(err)\n    return setDestMode(dest, srcMode, cb)\n  })\n}\n\nfunction setDestMode (dest, srcMode, cb) {\n  return fs.chmod(dest, srcMode, cb)\n}\n\nfunction setDestTimestamps (src, dest, cb) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  fs.stat(src, (err, updatedSrcStat) => {\n    if (err) return cb(err)\n    return utimesMillis(dest, updatedSrcStat.atime, updatedSrcStat.mtime, cb)\n  })\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts, cb)\n  return copyDir(src, dest, opts, cb)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err)\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err)\n      return setDestMode(dest, srcMode, cb)\n    })\n  })\n}\n\nfunction copyDir (src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err)\n    return copyDirItems(items, src, dest, opts, cb)\n  })\n}\n\nfunction copyDirItems (items, src, dest, opts, cb) {\n  const item = items.pop()\n  if (!item) return cb()\n  return copyDirItem(items, item, src, dest, opts, cb)\n}\n\nfunction copyDirItem (items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  stat.checkPaths(srcItem, destItem, 'copy', opts, (err, stats) => {\n    if (err) return cb(err)\n    const { destStat } = stats\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err)\n      return copyDirItems(items, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction onLink (destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err)\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb)\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb)\n          return cb(err)\n        }\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest)\n        }\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`))\n        }\n\n        // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`))\n        }\n        return copyLink(resolvedSrc, dest, cb)\n      })\n    }\n  })\n}\n\nfunction copyLink (resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err)\n    return fs.symlink(resolvedSrc, dest, cb)\n  })\n}\n\nmodule.exports = copy\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}